import{s as a,y as e,x as t,l as r,A as n,v as s}from"./preact.89f2d999.js";import{z as l,a7 as o,a8 as i,a9 as d,aa as p,ab as c,ac as u,ad as f,H as v,J as m,K as g}from"./index.1392f534.js";var h={field:l+" Bxa2cr",popupField:l+" Bxa2cr Bxa2sv",hint:o+" Bxa1r3",file:"Bxa1sh",input:i+" Bxacv",readonly:d+" Bxa1r9",popupInput:d+" Bxa1r9 Bxamx",button:p+" Bxa2gt",buttonBlue:c+" Bxa1i9",layer:"Bxa29k",inner:"Bxa1bo",label:"Bxa6e",svgColor:"Bxa2j3",svgStroke:"Bxa1m8"};const w=t(((t,l)=>{const{id:o,label:i,name:d,error:p,errorStyles:c,accept:w,popup:x,isDropFileAvailable:B,isNewFormats:b}=t,[y,N]=r(null),H=n((a=>{const e=a.target.files.length?a.target.files[0].name:null;N(e)}),[]),[k,E]=r(null),[V,D]=r(null),L=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const s=a();return e((()=>{r.forEach((a=>{a&&("function"==typeof a?a(s.current):a.current=s.current)}))}),[r]),s}(l,a(null));B&&e((()=>{let a=0;const e=a=>{a.preventDefault(),a.stopPropagation()},t=e=>{e.preventDefault(),e.stopPropagation(),a++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&E(!0)},r=e=>{e.preventDefault(),e.stopPropagation(),a--,a>0||E(!1)},n=e=>{e.preventDefault(),e.stopPropagation(),E(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(s(e.dataTransfer.files),e.dataTransfer.clearData(),a=0)},s=a=>{try{L.current.files=a;const e=m(b);g([{field:L.current,validator:e}]),D(null),N(a[0].name),L.current.files=a}catch(a){D(a),N(null),L.current.files=null}};return window.addEventListener("dragenter",t),window.addEventListener("dragleave",r),window.addEventListener("dragover",e),window.addEventListener("drop",n),()=>{window.removeEventListener("dragenter",t),window.removeEventListener("dragleave",r),window.removeEventListener("dragover",e),window.removeEventListener("drop",n)}}),[]);const M=u(V||p,d),T=s("span",{className:x?h.popupInput:h.readonly,"data-info":"filename"},y),F=s("span",{className:x?h.buttonBlue:h.button,"data-info":"button"},"".concat(x?"Upload":"Choose"," your .gp5 file"));return s("label",{className:x?h.popupField:h.field,"data-input":d},x?s(v,{styles:c,errorMessage:M,name:d}):i&&s("div",{className:h.hint,"data-label":d},i),s("input",{id:o,accept:w,name:d,type:"file",ref:L,onChange:H,className:h.file}),k&&s("div",{className:h.layer,"data-id":o},s("div",{className:h.inner},s("svg",{width:"188",height:"100",fill:"none"},s("path",{className:h.svgStroke,strokeWidth:"4",strokeDasharray:"8 8",d:"M2 2h104v24H82v48H2V2z"}),s("mask",{id:"a",maskUnits:"userSpaceOnUse",x:"80",y:"24",width:"108",height:"76"},s("path",{fill:"#fff",d:"M186 24H82a2 2 0 00-2 2v72c0 1.1.9 2 2 2h104a2 2 0 002-2V26a2 2 0 00-2-2z"})),s("g",{mask:"url(#a)"},s("path",{className:h.svgStroke,strokeWidth:"8",d:"M186 24H82a2 2 0 00-2 2v72c0 1.1.9 2 2 2h104a2 2 0 002-2V26a2 2 0 00-2-2z"}),s("path",{className:h.svgColor,d:"M132.02 77H135.98V63.74H149.06V60.2H135.98V46.94H132.02V60.2H118.94V63.74H132.02V77Z"}))),s("div",{className:h.label},"Drop GuitarPro file here"))),!x&&s(f,{name:d,errorMessage:M}),y?T:F)}));export{w as F};
//# sourceMappingURL=FileInput.d0451d36.js.map
